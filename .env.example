# =============================================================================
# PCM Legacy Store - Environment Variables Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control - it contains sensitive information
# =============================================================================

# -----------------------------------------------------------------------------
# Flask Configuration
# -----------------------------------------------------------------------------
# Set to 'development' for local development, 'production' for production
FLASK_ENV=development

# REQUIRED IN PRODUCTION: A secret key for Flask session management
# Generate a secure random string (e.g., use: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-secret-key-change-in-production

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# SQLite (Development - default):
# DATABASE_URL=sqlite:///pcm_store.db

# PostgreSQL (Production recommended):
# DATABASE_URL=postgresql://username:password@localhost:5432/pcm_store

# MySQL (Production alternative):
# DATABASE_URL=mysql://username:password@localhost:3306/pcm_store

# Leave empty to use default SQLite database
DATABASE_URL=

# -----------------------------------------------------------------------------
# Email Configuration (Required for Password Reset)
# -----------------------------------------------------------------------------
# SMTP server for sending emails (Gmail example shown)
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true

# Your email credentials
# For Gmail: Use an App Password, not your regular password
# Create one at: https://myaccount.google.com/apppasswords
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password-here

# Default sender email address
MAIL_DEFAULT_SENDER=noreply@pcmlegacy.store

# -----------------------------------------------------------------------------
# M-Pesa Configuration (Required for Payment Processing)
# -----------------------------------------------------------------------------
# Get these credentials from: https://openapiportal.m-pesa.com

# REQUIRED - Your M-Pesa API credentials
MPESA_API_KEY=your-api-key-here
MPESA_PUBLIC_KEY=your-public-key-here
MPESA_SERVICE_PROVIDER_CODE=your-shortcode-here

# M-Pesa Country and Currency (Default: Tanzania)
MPESA_COUNTRY=TZN
MPESA_CURRENCY=TZS

# M-Pesa Environment: 'sandbox' for testing, 'production' for live payments
MPESA_ENV=sandbox

# M-Pesa API Endpoint Configuration
MPESA_IPG_ADDRESS=openapi.m-pesa.com
MPESA_IPG_PORT=443
MPESA_IPG_ORIGIN=*

# M-Pesa API Paths (Get these from your M-Pesa portal)
MPESA_SESSION_PATH=/your/session/path
MPESA_C2B_SINGLE_STAGE_PATH=/your/c2b/single/stage/path

# M-Pesa Session Ready Delay (seconds)
MPESA_SESSION_READY_DELAY=30

# REQUIRED: Callback URL for payment notifications
# This must be a publicly accessible URL (use ngrok for local testing)
# Example: https://yourdomain.com/api/mpesa/callback
MPESA_CALLBACK_URL=https://yourdomain.com/api/mpesa/callback

# -----------------------------------------------------------------------------
# Production Settings (Optional - for production deployment)
# -----------------------------------------------------------------------------
# Your domain name (required in production)
SERVER_NAME=pcmlegacy.store

# URL scheme (http for development, https for production)
PREFERRED_URL_SCHEME=https

# Redis URL for rate limiting and caching (optional)
# Use 'memory://' for in-memory storage (default, single-server only)
# Use Redis URL for distributed systems: redis://localhost:6379/0
REDIS_URL=memory://

# -----------------------------------------------------------------------------
# Application Settings (Optional - uses defaults if not set)
# -----------------------------------------------------------------------------
# Items per page in material listings (default: 12)
# ITEMS_PER_PAGE=12

# Items per page in admin panel (default: 20)
# ADMIN_ITEMS_PER_PAGE=20

# Posts per page for news (default: 10)
# POSTS_PER_PAGE=10

# =============================================================================
# Quick Setup Guide
# =============================================================================
# 1. Copy this file: cp .env.example .env
# 2. Generate SECRET_KEY: python -c "import secrets; print(secrets.token_hex(32))"
# 3. Set FLASK_ENV=development for local development
# 4. Configure email settings (required for password reset)
# 5. Configure M-Pesa credentials (required for payments)
# 6. Update MPESA_CALLBACK_URL with your public URL
# 7. For production, set FLASK_ENV=production and use strong SECRET_KEY
# =============================================================================
